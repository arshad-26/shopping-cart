@inherits LayoutComponentBase

<article>
    <MudLayout>
        <AppBar OnSidebarToggled="ToggleSidebar" />
        <NavMenu SidebarOpen="_sidebarOpen" />
        <MudMainContent>
            <MudContainer>
                <ErrorBoundary @ref="errorBoundary">
                    <ChildContent>
                        @Body
                    </ChildContent>
                    <ErrorContent>
                        <RedirectToLogin />
                    </ErrorContent>
                </ErrorBoundary>
            </MudContainer>
        </MudMainContent>
    </MudLayout>
</article>

<MudThemeProvider />
<MudSnackbarProvider />

@code{
    private bool _sidebarOpen = false;
    private ErrorBoundary? errorBoundary;

    protected override void OnParametersSet()
    {
        errorBoundary?.Recover();
    }

    private void ToggleSidebar() => _sidebarOpen = !_sidebarOpen;
}

